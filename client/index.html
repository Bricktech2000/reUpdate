<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>reUpdate</title>
</head>
<body>
  <script type="module">
    import {reUpdate} from './reUpdate-client.js';
    reUpdate.log();
    reUpdate.this.sleep = async function(ms){
      return new Promise(resolve => setTimeout(resolve, ms));
    }
  </script>
  
  <<<this.test = 'test'>>>
  << console.log('This is a <<<yield this.test>>>.') >>
  << yield 'This is a <b>raw HTML</b> include' >>
  <br>
  Here is a test error: <<<handledServerError>>>
  <br>
  Your IP is <<<yield req.connection.remoteAddress>>>
  <br>
  <<
    await this.sleep(1000);
    yield '1<br>';
    await this.sleep(1000);
    yield '2<br>';
    await this.sleep(1000);
    yield '3<br>';
  >>
  <<
    await this.sleep(4000);
    for(var i = 0; i < 50; i++){
      await this.sleep(50);
      yield '#';
    }
  >>
</body>
</html>
